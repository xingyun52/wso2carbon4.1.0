<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
    <!--
    ~ Copyright (c) 2009, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.
    ~
    ~ Licensed under the Apache License, Version 2.0 (the "License");
    ~ you may not use this file except in compliance with the License.
    ~ You may obtain a copy of the License at
    ~
    ~ http://www.apache.org/licenses/LICENSE-2.0
    ~
    ~ Unless required by applicable law or agreed to in writing, software
    ~ distributed under the License is distributed on an "AS IS" BASIS,
    ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
    ~ See the License for the specific language governing permissions and
    ~ limitations under the License.
    -->
    <meta content="text/html; charset=ISO-8859-1" http-equiv="content-type"/>
    <title>Enrich Mediator - User Guide</title>
    <link href="../../admin/css/documentation.css" rel="stylesheet" type="text/css" media="all"/>
</head>

<body>
<h1>Enrich Mediator</h1>
<p>
    Enrich Mediator can process a message based on a given source configuration and then
    perform the specified action on the message by using the target configuration.
    It basically gets an OMElement using the configuration specified in the source
    and then modify the message by putting it on the current message using the configuration in the target.
    <img src="images/enrich_mediator_screenshot.png" style="border: 1px solid #c0c0c0; padding: 5px;" alt=""/>
</p>



<p><strong>Enrich Mediator Screenshot</strong></p>

<p>
    You have the following configurations under the Enrich mediator.
</p>

<ul>
    <li>
        <strong>Source Configuration</strong>
        <br/>
        <ul>
            <li>
                <strong>Clone</strong> : By setting the clone configuration, the message can be cloned or else use as a reference during the enriching.
                The default value for clone is false.
                <ul>
                    <li>
                        True/False
                    </li>
                </ul>
            </li>
            <li>
                <strong>Type</strong> : Specifies that the type that the mediator use from the original message to enrich the modified message that pass through the mediator.
                <ul>
                    <li>
                        Custom  : Custom XPath value
                        <p>If there are any namespaces involved in the XPath expression, you can specify it in the Namespace
                            Editor.
                        </p>
                        <img src="images/namespaces_screenshot.png" alt=""/>
                        <p><strong>Namespace Editor Screenshot</strong></p>
                    </li>
                    <li>
                        Envelope : Envelope of the original message will be used for enriching.
                    </li>
                    <li>
                        Body : Body of the original message will be used for enriching.
                    </li>
                    <li>
                        Property : Specifies a property.
                    </li>
                    <li>
                        Inline   : Specifies an inline XML value <br/>
                    </li>
                </ul>
            </li>
        </ul>

    </li>

    <li>
        <strong>Target Configuration</strong>
        <br/>
        <ul>
            <li>
                <strong>Action</strong> : By specifying the action type the relevant action can be applied to outgoing message.
                <ul>
                    <li>
                        Replace  : Replace the xml message based on the target type specified on the target configuration.
                    </li>
                    <li>
                        Child    : Adding as a child of specified target type.
                    </li>
                    <li>
                        Sibling  : Adding as a sibling of specified target type.
                    </li>
                </ul>
            </li>
            <li>
                <strong>Type</strong>  : Specifies that the type of enriching the outgoing message.
                <ul>
                    <li>
                        Custom   :  Custom XPath value. (Also possible to add namespaces as shown in the source configuration)
                    </li>
                    <li>
                        Envelope : adding the specified source type as the Envelope of the modified message
                    </li>
                    <li>
                        Body     : adding the specified source type as the body of the modified message
                    </li>
                    <li>
                        Property : specify as a property
                    </li>
                </ul>
            </li>
        </ul>
    </li>

</ul>
</body>
</html>

